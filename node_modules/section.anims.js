var Widget = require("wdg");
var Path = require("path");
var FS = require("fs");
var Util = require("animator.util");
var AnimEdit = require("animator.anim-edit");


exports.refresh = function() {
    var container = Widget.id("anims-list");
    var files = [];
    var directories = Util.listDirs(Util.curDir("data/anim"));
    directories.forEach(
        function(dir) {
            var lst = Util.listFiles(dir, ".json");
            lst.forEach(
                function(item) {
                    files.push(item);
                }
            );

        }
    );

    container.clear();
    files.forEach(
        function(file) {
            container.append(AnimEdit.create(file));
        }
    );
};